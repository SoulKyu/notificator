// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.906
package scripts

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func DashboardActions() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<script>\n\t\t// Alert actions for dashboard (acknowledge, hide, resolve, etc.)\n\t\twindow.dashboardActionsMixin = {\n\t\t\t// Acknowledgment modal functions\n\t\t\tcancelAcknowledgment() {\n\t\t\t\tthis.showAckModal = false;\n\t\t\t\tthis.ackReason = '';\n\t\t\t\tthis.ackError = '';\n\t\t\t\tthis.ackSubmitting = false;\n\t\t\t\tthis.currentAckAlert = null;\n\t\t\t\tthis.currentGroupName = '';\n\t\t\t},\n\t\t\t\n\t\t\tasync submitAcknowledgment() {\n\t\t\t\t// Validate reason\n\t\t\t\tif (!this.ackReason.trim()) {\n\t\t\t\t\tthis.ackError = 'Please provide a reason for the acknowledgment';\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.ackSubmitting = true;\n\t\t\t\tthis.ackError = '';\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tlet request;\n\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\n\t\t\t\t\tswitch (this.ackAction) {\n\t\t\t\t\t\tcase 'single':\n\t\t\t\t\t\t\trequest = {\n\t\t\t\t\t\t\t\talertFingerprints: [this.currentAckAlert.fingerprint],\n\t\t\t\t\t\t\t\tgroupNames: [],\n\t\t\t\t\t\t\t\taction: 'acknowledge',\n\t\t\t\t\t\t\t\tcomment: this.ackReason\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tsuccessMessage = 'Alert acknowledged successfully';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'group':\n\t\t\t\t\t\t\trequest = {\n\t\t\t\t\t\t\t\talertFingerprints: [],\n\t\t\t\t\t\t\t\tgroupNames: [this.currentGroupName],\n\t\t\t\t\t\t\t\taction: 'acknowledge',\n\t\t\t\t\t\t\t\tcomment: this.ackReason\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tsuccessMessage = `Group \"${this.currentGroupName}\" acknowledged successfully`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'bulk':\n\t\t\t\t\t\t\trequest = {\n\t\t\t\t\t\t\t\talertFingerprints: this.selectedAlerts,\n\t\t\t\t\t\t\t\tgroupNames: this.selectedGroups,\n\t\t\t\t\t\t\t\taction: 'acknowledge',\n\t\t\t\t\t\t\t\tcomment: this.ackReason\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tsuccessMessage = `${this.selectedAlerts.length + this.selectedGroups.length} items acknowledged successfully`;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tthis.ackError = 'Invalid acknowledgment action';\n\t\t\t\t\t\t\tthis.ackSubmitting = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', successMessage);\n\t\t\t\t\t\tthis.showAckModal = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Clear selection for bulk actions\n\t\t\t\t\t\tif (this.ackAction === 'bulk') {\n\t\t\t\t\t\t\tthis.clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Refresh dashboard data\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.ackError = result.error || 'Failed to acknowledge';\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error submitting acknowledgment:', error);\n\t\t\t\t\tthis.ackError = 'Network error: Failed to submit acknowledgment';\n\t\t\t\t} finally {\n\t\t\t\t\tthis.ackSubmitting = false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tasync hideSelected() {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: this.selectedAlerts,\n\t\t\t\t\tgroupNames: this.selectedGroups,\n\t\t\t\t\taction: 'hide'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', `Hidden ${result.data.processedCount} alerts`);\n\t\t\t\t\t\tthis.clearSelection();\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to hide alerts: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error hiding alerts:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to hide alerts');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tacknowledgeAlert(fingerprint) {\n\t\t\t\t// Find the alert details\n\t\t\t\tconst alert = this.alerts.find(a => a.fingerprint === fingerprint);\n\t\t\t\tthis.currentAckAlert = alert;\n\t\t\t\tthis.ackAction = 'single';\n\t\t\t\tthis.ackReason = '';\n\t\t\t\tthis.ackError = '';\n\t\t\t\tthis.showAckModal = true;\n\t\t\t},\n\n\t\t\tacknowledgeGroup(groupName) {\n\t\t\t\tthis.currentGroupName = groupName;\n\t\t\t\tthis.ackAction = 'group';\n\t\t\t\tthis.ackReason = '';\n\t\t\t\tthis.ackError = '';\n\t\t\t\tthis.showAckModal = true;\n\t\t\t},\n\n\t\t\tacknowledgeSelected() {\n\t\t\t\tif (this.selectedAlerts.length === 0 && this.selectedGroups.length === 0) {\n\t\t\t\t\tthis.showNotification('warning', 'Please select alerts or groups to acknowledge');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.ackAction = 'bulk';\n\t\t\t\tthis.ackReason = '';\n\t\t\t\tthis.ackError = '';\n\t\t\t\tthis.showAckModal = true;\n\t\t\t},\n\n\t\t\tasync hideAlert(fingerprint) {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: [fingerprint],\n\t\t\t\t\taction: 'hide'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', 'Alert hidden');\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to hide alert: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error hiding alert:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to hide alert');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Unacknowledge actions\n\t\t\tasync unacknowledgeSelected() {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: this.selectedAlerts,\n\t\t\t\t\tgroupNames: this.selectedGroups,\n\t\t\t\t\taction: 'unacknowledge',\n\t\t\t\t\tcomment: 'Unacknowledged from dashboard'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', `Unacknowledged ${result.data.processedCount} alerts`);\n\t\t\t\t\t\tthis.clearSelection();\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to unacknowledge alerts: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error unacknowledging alerts:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to unacknowledge alerts');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tasync unacknowledgeAlert(fingerprint) {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: [fingerprint],\n\t\t\t\t\taction: 'unacknowledge',\n\t\t\t\t\tcomment: 'Unacknowledged from dashboard'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', 'Alert unacknowledged');\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to unacknowledge alert: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error unacknowledging alert:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to unacknowledge alert');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Resolve actions\n\t\t\tasync resolveSelected() {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: this.selectedAlerts,\n\t\t\t\t\tgroupNames: this.selectedGroups,\n\t\t\t\t\taction: 'resolve',\n\t\t\t\t\tcomment: 'Resolved from dashboard'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', `Resolved ${result.data.processedCount} alerts`);\n\t\t\t\t\t\tthis.clearSelection();\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to resolve alerts: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error resolving alerts:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to resolve alerts');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tasync resolveAlert(fingerprint) {\n\t\t\t\tconst request = {\n\t\t\t\t\talertFingerprints: [fingerprint],\n\t\t\t\t\taction: 'resolve',\n\t\t\t\t\tcomment: 'Resolved from dashboard'\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/bulk-action', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify(request)\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', 'Alert resolved');\n\t\t\t\t\t\tthis.loadDashboardData();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', 'Failed to resolve alert: ' + result.error);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error resolving alert:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to resolve alert');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Confirm before removing all resolved alerts\n\t\t\tconfirmRemoveResolvedAlerts() {\n\t\t\t\tif (confirm('Are you sure you want to remove all resolved alerts? This action cannot be undone.')) {\n\t\t\t\t\tthis.removeAllResolvedAlerts();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Remove all resolved alerts from backend\n\t\t\tasync removeAllResolvedAlerts() {\n\t\t\t\tthis.isRemovingResolvedAlerts = true;\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/v1/dashboard/remove-resolved-alerts', {\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t});\n\n\t\t\t\t\tconst result = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\tthis.showNotification('success', 'All resolved alerts have been removed successfully');\n\t\t\t\t\t\t// Refresh dashboard data if we're currently viewing resolved alerts\n\t\t\t\t\t\tif (this.displayMode === 'resolved') {\n\t\t\t\t\t\t\tawait this.loadDashboardData();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showNotification('error', result.message || 'Failed to remove resolved alerts');\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error removing resolved alerts:', error);\n\t\t\t\t\tthis.showNotification('error', 'Failed to remove resolved alerts');\n\t\t\t\t} finally {\n\t\t\t\t\tthis.isRemovingResolvedAlerts = false;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
